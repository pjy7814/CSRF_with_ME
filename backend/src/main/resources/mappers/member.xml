<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssafy.vue.model.mapper.MemberMapper">

	<select id="login" parameterType="memberDto" resultType="memberDto">
		select member_name as memberName, member_id as memberId, member_email as memberEmail
		from member
		where member_id = #{memberId} and member_password  = #{memberPassword}
	</select>
	
	<select id="memberInfo" parameterType="string" resultType="memberDto">
		select member_name as memberName, member_id as memberId, member_email as memberEmail, created_at as createdAt
		from member
		where member_id = #{memberId}
	</select>
	
	<insert id="regist" parameterType="memberDto">
	  INSERT INTO member (member_id, member_name, member_password, member_email, sido_code, gungu_code)
	  VALUES (#{memberId}, #{memberName}, #{memberPassword}, #{memberEmail}, #{sidoCode}, #{gunguCode})
	</insert>
	
	<insert id="registSalt" parameterType="java.util.Map">
        INSERT INTO memberSec (member_id, salt)
        VALUES (#{memberId}, #{salt})
    </insert>
    <select id="getSalt" parameterType="string" resultType="string">
    	select salt from membersec where member_id = #{memberId}
    </select>
	
</mapper>